(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function V(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(t){if(t.ep)return;t.ep=!0;const s=V(t);fetch(t.href,s)}})();const w=()=>({user:/^[a-zA-ZÀ-ÿ\s\.-_@]{3,40}/,text:/^[a-zA-ZÀ-ÿ\s]{3,40}$/,phone:/^(\+)?[\d\s\-\.]{5,30}$/,email:/^[\w\d\.\-]+@+[\w\d]+\.+[\w\d\.]+$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])([A-Za-z\d$@$!%*?&]|[^ ]){8,15}$/,message:/.{10,200}/,url:/[a-zA-Z0-9_.+-]{0,3}\.[a-zA-Z0-9-]{0,100}\.[a-zA-Z0-9-.]+$/}),S=()=>({text:"text",number:"number",user:"user",phone:"phone",email:"email",password:"password",message:"message",url:"url"}),L=i=>{i.forEach(n=>{if(n.dataset.mandatory=="false"){const c=n.closest(".JVform__ctn-input");c&&c.classList.add("validateVF")}else{const c=document.createElement("div");c.classList.add("JVform__error-message");const t=n.dataset.error,s=n.name;let l;t?l=`<p>${t}</p>`:l=`<p>Ingrese ${s}</p>`,c.innerHTML=l,n.parentNode.append(c)}})};function $(i,n){return this.principalMethod=n,(()=>{const c=document.querySelector(`${i}`),t=document.querySelectorAll(`${i} input`),s=document.querySelectorAll(`${i} textarea`),l=document.querySelectorAll(`${i} select`);L(t),L(s),L(l);const F=()=>{const{user:e,text:r,phone:o,email:a,password:d,url:u}=w();t&&t.forEach(m=>{const f=m.dataset.validation,_=S()[f],g=m.closest(".JVform__ctn-input"),A=m.dataset.expresion,T=new RegExp(A),v=(b,E)=>{(A||_==b)&&(E.test(m.value)?(g.classList.add("validateVF"),g.classList.remove("errorValidateVF")):g.classList.remove("validateVF"))};v("text",r),v("phone",o),v("email",a),v("url",u),v("personality",T)})},p=e=>{const r=e.closest(".JVform__ctn-input");r.classList.contains("validateVF")?r.classList.remove("errorValidateVF"):r.classList.add("errorValidateVF")},y=()=>{const{message:e}=w();s&&s.forEach(r=>{const o=r.closest(".JVform__ctn-input");e.test(r.value)?(o.classList.add("validateVF"),o.classList.remove("errorValidateVF")):o.classList.remove("validateVF")})};t&&t.forEach(e=>{const r=e.dataset.mandatory;(e.type=="checkbox"||e.type=="radio")&&e.addEventListener("change",()=>{const o=e.closest(".JVform__ctn-input");r!="false"&&(e.checked?o.classList.add("validateVF"):o.classList.remove("validateVF"))})}),t&&t.forEach(e=>{e.type=="file"&&e.addEventListener("change",()=>{const r=e.files[0].size,o=e.files[0].name,a=parseInt(e.dataset.filesize),d=e.dataset.fileallowed,u=e.closest(".JVform__ctn-input"),m=o.split("."),f=m[m.length-1].toLowerCase();d&&(d.split(",").includes(f)?u.classList.add("validateVF"):u.classList.remove("validateVF")),a&&(r<a?u.classList.add("validateVF"):u.classList.remove("validateVF")),d&&a&&(d.split(",").includes(f)&&r<a?u.classList.add("validateVF"):u.classList.remove("validateVF"))})}),l&&l.forEach(e=>{const r=e.dataset.mandatory,o=e.closest(".JVform__ctn-input");r=="false"||r==!1?o.classList.add("validateVF"):e.addEventListener("change",()=>{const a=e.firstElementChild.value,d=e.value;a.toLowerCase()==d.toLowerCase()?(o.classList.remove("validateVF"),o.classList.add("errorValidateVF")):(o.classList.add("validateVF"),o.classList.remove("errorValidateVF"))})}),t&&t.forEach(e=>{e.addEventListener("keyup",F),e.addEventListener("blur",F),e.addEventListener("blur",()=>{p(e)}),e.addEventListener("change",()=>{p(e)})}),s&&s.forEach(e=>{e.addEventListener("keyup",y),e.addEventListener("blur",y),e.addEventListener("blur",()=>{p(e)})}),c.addEventListener("submit",e=>{const r=document.querySelectorAll(`${i} .validateVF`),o=document.querySelectorAll(`${i} .JVform__ctn-input`),a=document.querySelector(`${i} .JVform__error-send`),d=u=>{u.forEach(m=>{const f=m.closest(".JVform__ctn-input");f.classList.contains("validateVF")?f&&f.classList.remove("errorValidateVF"):f&&f.classList.add("errorValidateVF")})};console.log(o.length,r.length),o.length==r.length?(n.preventSubmit==!0&&e.preventDefault(),n.sendFunction&&n.sendFunction(),a&&a.classList.remove("active")):(d(t),d(s),d(l),a&&a.classList.add("active"),a.classList.contains("active")&&(a.style.animation="error-message .5s 1 ease",setTimeout(()=>{a.style.animation="nothing"},500)),e.preventDefault())})})()}const x=()=>{const i=document.querySelector("#primerFormulario");let n=new FormData(i);alert(n)};window.addEventListener("load",()=>{new $("#primerFormulario",{preventSubmit:!0,sendFunction:x})});
