(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&d(n)}).observe(document,{childList:!0,subtree:!0});function V(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(s){if(s.ep)return;s.ep=!0;const t=V(s);fetch(s.href,t)}})();const w=()=>({user:/^[a-zA-ZÀ-ÿ\s\.-_@]{3,40}/,text:/^[a-zA-ZÀ-ÿ\s]{3,40}$/,phone:/^(\+)?[\d\s\-\.]{5,30}$/,email:/^[\w\d\.\-]+@+[\w\d]+\.+[\w\d\.]+$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])([A-Za-z\d$@$!%*?&]|[^ ]){8,15}$/,message:/.{10,200}/,url:/[a-zA-Z0-9_.+-]{0,3}\.[a-zA-Z0-9-]{0,100}\.[a-zA-Z0-9-.]+$/}),S=()=>({text:"text",number:"number",user:"user",phone:"phone",email:"email",password:"password",message:"message",url:"url"}),h=i=>{i.forEach(l=>{if(l.dataset.mandatory=="false"){const d=l.closest(".JVform__ctn-input");d&&d.classList.add("validateVF")}else{const d=document.createElement("div");d.classList.add("JVform__error-message");const s=l.dataset.error,t=l.name;let n;s?n=`<p>${s}</p>`:n=`<p>Ingrese ${t}</p>`,d.innerHTML=n,l.parentNode.append(d)}})},x=(i,l,V)=>(()=>{const s=document.querySelector(`${i}`),t=document.querySelectorAll(`${i} input`),n=document.querySelectorAll(`${i} textarea`),v=document.querySelectorAll(`${i} select`);h(t),h(n),h(v);const y=()=>{const{user:e,text:r,phone:o,email:a,password:c,url:u}=w();t&&t.forEach(f=>{const m=f.dataset.validation,T=S()[m],g=f.closest(".JVform__ctn-input"),E=f.dataset.expresion,$=new RegExp(E),p=(b,_)=>{(E||T==b)&&(_.test(f.value)?(g.classList.add("validateVF"),g.classList.remove("errorValidateVF")):g.classList.remove("validateVF"))};p("text",r),p("phone",o),p("email",a),p("url",u),p("personality",$)})},L=e=>{const r=e.closest(".JVform__ctn-input");r.classList.contains("validateVF")?r.classList.remove("errorValidateVF"):r.classList.add("errorValidateVF")},F=()=>{const{message:e}=w();n&&n.forEach(r=>{const o=r.closest(".JVform__ctn-input");e.test(r.value)?(o.classList.add("validateVF"),o.classList.remove("errorValidateVF")):o.classList.remove("validateVF")})};t&&t.forEach(e=>{const r=e.dataset.mandatory;(e.type=="checkbox"||e.type=="radio")&&e.addEventListener("change",()=>{const o=e.closest(".JVform__ctn-input");r!="false"&&(e.checked?o.classList.add("validateVF"):o.classList.remove("validateVF"))})}),t&&t.forEach(e=>{e.type=="file"&&e.addEventListener("change",()=>{const r=e.files[0].size,o=e.files[0].name,a=parseInt(e.dataset.filesize),c=e.dataset.fileallowed,u=e.closest(".JVform__ctn-input"),f=o.split("."),m=f[f.length-1].toLowerCase();c&&(c.split(",").includes(m)?u.classList.add("validateVF"):u.classList.remove("validateVF")),a&&(r<a?u.classList.add("validateVF"):u.classList.remove("validateVF")),c&&a&&(c.split(",").includes(m)&&r<a?u.classList.add("validateVF"):u.classList.remove("validateVF"))})}),v&&v.forEach(e=>{const r=e.dataset.mandatory,o=e.closest(".JVform__ctn-input");r=="false"||r==!1?o.classList.add("validateVF"):e.addEventListener("change",()=>{const a=e.firstElementChild.value,c=e.value;a.toLowerCase()==c.toLowerCase()?(o.classList.remove("validateVF"),o.classList.add("errorValidateVF")):(o.classList.add("validateVF"),o.classList.remove("errorValidateVF"))})}),t&&t.forEach(e=>{e.addEventListener("keyup",y),e.addEventListener("blur",y),e.addEventListener("blur",()=>{L(e)}),e.addEventListener("change",()=>{L(e)})}),n&&n.forEach(e=>{e.addEventListener("keyup",F),e.addEventListener("blur",F),e.addEventListener("blur",()=>{L(e)})}),s.addEventListener("submit",e=>{const r=document.querySelectorAll(`${i} .validateVF`),o=document.querySelectorAll(`${i} .JVform__ctn-input`),a=document.querySelector(`${i} .JVform__error-send`),c=u=>{u.forEach(f=>{const m=f.closest(".JVform__ctn-input");m.classList.contains("validateVF")?m&&m.classList.remove("errorValidateVF"):m&&m.classList.add("errorValidateVF")})};console.log(o.length,r.length),o.length==r.length?(l==!0&&e.preventDefault(),V(),a&&a.classList.remove("active")):(c(t),c(n),c(v),a&&a.classList.add("active"),a.classList.contains("active")&&(a.style.animation="error-message .5s 1 ease",setTimeout(()=>{a.style.animation="nothing"},500)),e.preventDefault())})})();const J=()=>{const i=document.querySelector("#primerFormulario");let l=new FormData(i);alert(l)};window.addEventListener("load",()=>{x("#primerFormulario",!0,J)});
