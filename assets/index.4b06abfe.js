(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&f(d)}).observe(document,{childList:!0,subtree:!0});function p(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(t){if(t.ep)return;t.ep=!0;const r=p(t);fetch(t.href,r)}})();const h=()=>({user:/^[a-zA-ZÀ-ÿ\s\.-_@]{3,40}/,text:/^[a-zA-ZÀ-ÿ\s]{3,40}$/,phone:/^(\+)?[\d\s\-\.]{5,30}$/,email:/^[\w\d\.\-]+@+[\w\d]+\.+[\w\d\.]+$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])([A-Za-z\d$@$!%*?&]|[^ ]){8,15}$/,message:/.{10,200}/,url:/[a-zA-Z0-9_.+-]{0,3}\.[a-zA-Z0-9-]{0,100}\.[a-zA-Z0-9-.]+$/}),b=()=>({text:"text",number:"number",user:"user",phone:"phone",email:"email",password:"password",message:"message",url:"url"}),F=c=>{c.forEach(o=>{if(o.dataset.mandatory=="false"){const f=o.closest(".JVform__ctn-input");f&&f.classList.add("validateVF")}else{const f=document.createElement("div");f.classList.add("JVform__error-message");const t=o.dataset.error,r=o.name;let d;t?d=`<p>${t}</p>`:d=`<p>Ingrese ${r}</p>`,f.innerHTML=d,o.parentNode.append(f)}})};function S(c,o){return this.principalMethod=o,(()=>{const f=document.querySelector(`${c}`),t=document.querySelectorAll(`${c} input`),r=document.querySelectorAll(`${c} textarea`),d=document.querySelectorAll(`${c} select`);F(t),F(r),F(d);const y=()=>{const{user:e,text:s,phone:a,email:l,password:n,url:i}=h();t&&t.forEach(u=>{const m=u.dataset.validation,v=u.dataset.expresion,A=u.dataset.mandatory,w=b()[m],g=u.closest(".JVform__ctn-input"),_=new RegExp(v),V=(T,x)=>{v&&A!="false"?_.test(u.value)?(g.classList.add("validateVF"),g.classList.remove("errorValidateVF")):g.classList.remove("validateVF"):w==T&&A!="false"&&(x.test(u.value)?(g.classList.add("validateVF"),g.classList.remove("errorValidateVF")):g.classList.remove("validateVF"))};V("text",s),V("phone",a),V("email",l),V("url",i)})},E=()=>{const{message:e}=h();r&&r.forEach(s=>{const a=s.dataset.expresion,l=s.dataset.mandatory,n=s.closest(".JVform__ctn-input"),i=new RegExp(a);a&&l!="false"?i.test(s.value)?(n.classList.add("validateVF"),n.classList.remove("errorValidateVF")):n.classList.remove("validateVF"):l!="false"&&(e.test(s.value)?(n.classList.add("validateVF"),n.classList.remove("errorValidateVF")):n.classList.remove("validateVF"))})};t&&t.forEach(e=>{const s=e.dataset.mandatory;(e.type=="checkbox"||e.type=="radio")&&e.addEventListener("change",()=>{const a=e.closest(".JVform__ctn-input");s!="false"&&(e.checked?a.classList.add("validateVF"):a.classList.remove("validateVF"))})}),t&&t.forEach(e=>{e.type=="file"&&e.addEventListener("change",()=>{let s,a,l,n,i,u,m;e.files[0]&&(s=e.files[0].size,a=e.files[0].name,l=parseInt(e.dataset.filesize),n=e.dataset.fileallowed,i=e.closest(".JVform__ctn-input"),u=a.split("."),m=u[u.length-1].toLowerCase()),n&&(n.split(",").includes(m)?i.classList.add("validateVF"):i.classList.remove("validateVF")),l&&(s<l?i.classList.add("validateVF"):i.classList.remove("validateVF")),n&&l&&(n.split(",").includes(m)&&s<l?i.classList.add("validateVF"):i.classList.remove("validateVF"))})}),d&&d.forEach(e=>{const s=e.dataset.mandatory,a=e.closest(".JVform__ctn-input");s=="false"||s==!1?a.classList.add("validateVF"):e.addEventListener("change",()=>{const l=e.firstElementChild.value,n=e.value;l.toLowerCase()==n.toLowerCase()?(a.classList.remove("validateVF"),a.classList.add("errorValidateVF")):(a.classList.add("validateVF"),a.classList.remove("errorValidateVF"))})});const L=e=>{const s=e.closest(".JVform__ctn-input");s.classList.contains("validateVF")?s.classList.remove("errorValidateVF"):s.classList.add("errorValidateVF")};t&&t.forEach(e=>{e.addEventListener("keyup",y),e.addEventListener("blur",y),e.addEventListener("blur",()=>{L(e)}),e.addEventListener("change",()=>{L(e)})}),r&&r.forEach(e=>{e.addEventListener("keyup",E),e.addEventListener("blur",E),e.addEventListener("blur",()=>{L(e)})}),f.addEventListener("submit",e=>{const s=document.querySelectorAll(`${c} .validateVF`),a=document.querySelectorAll(`${c} .JVform__ctn-input`),l=document.querySelector(`${c} .JVform__error-send`),n=i=>{i.forEach(u=>{const m=u.closest(".JVform__ctn-input");m.classList.contains("validateVF")?m&&m.classList.remove("errorValidateVF"):m&&m.classList.add("errorValidateVF")})};console.log(a.length,s.length),a.length==s.length?(o.preventSubmit==!0&&e.preventDefault(),o.sendFunction&&o.sendFunction(),o.messageError&&l.classList.remove("active")):(n(t),n(r),n(d),o.messageError&&l.classList.add("active"),o.messageError&&l.classList.contains("active")&&(l.style.animation="error-message .5s 1 ease",setTimeout(()=>{l.style.animation="nothing"},500)),e.preventDefault())})})()}const $=()=>{const c=document.querySelector("#primerFormulario");let o=new FormData(c);alert(o)};window.addEventListener("load",()=>{new S("#primerFormulario",{preventSubmit:!0,sendFunction:$,messageError:!0})});
